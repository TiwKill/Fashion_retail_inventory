graph TB
    Start([‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°]) --> InitData[‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•]
    InitData --> LoadCSV{‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå CSV<br/>ADIDAS, NIKE, PUMA}
    
    LoadCSV -->|‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à| PrepareData[‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå<br/>- ‡πÅ‡∏õ‡∏•‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà<br/>- ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç<br/>- ‡∏õ‡∏£‡∏±‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô]
    LoadCSV -->|‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß| CreateSample[‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á<br/>1000 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå]
    
    PrepareData --> CalcParams[‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå<br/>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå]
    CreateSample --> CalcParams
    
    CalcParams --> CalcBase[‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô<br/>‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô = ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏° / ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô]
    CalcBase --> CalcSeason[‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•<br/>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô / ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢]
    CalcSeason --> CalcPrice[‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢<br/>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏° / ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏¥‡πâ‡∏ô]
    CalcPrice --> CalcStock[‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏™‡∏ï‡πá‡∏≠‡∏Å<br/>- ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô = ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ √ó 30<br/>- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ï‡∏¥‡∏°‡∏ï‡∏≤‡∏°‡∏£‡∏≠‡∏ö = ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ √ó 25<br/>- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ï‡∏¥‡∏°‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô = ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ √ó 30<br/>- ‡∏à‡∏∏‡∏î‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà = ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ √ó 7]
    
    CalcStock --> APIReady[API ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô<br/>Endpoint ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏û‡∏£‡πâ‡∏≠‡∏°]
    
    APIReady --> UserRequest{‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠<br/>POST /simulate}
    
    UserRequest --> ParseRequest[‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≥‡∏Ç‡∏≠<br/>- ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå<br/>- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏à‡∏≥‡∏•‡∏≠‡∏á<br/>- ‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î<br/>- ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏π‡∏ì‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•]
    
    ParseRequest --> CalcDates[‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà<br/>‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô = 1 ‡∏°.‡∏Ñ. 2024 + ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°<br/>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô = ‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î - ‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏° + 1]
    
    CalcDates --> CreateBrandSim[‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå<br/>NIKE, ADIDAS, PUMA]
    
    CreateBrandSim --> InitBrand[‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå<br/>- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏ï‡πá‡∏≠‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô<br/>- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πá‡∏≠‡∏Å<br/>- ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•<br/>- ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏π‡∏ì‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•]
    
    InitBrand --> StartSimEnv[‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á SimPy<br/>‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô]
    
    StartSimEnv --> DayLoop{‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏ô<br/>0 ‡∏ñ‡∏∂‡∏á ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏à‡∏≥‡∏•‡∏≠‡∏á}
    
    DayLoop --> CalcDate[‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô<br/>‡∏ß‡∏±‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô = ‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏° + ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà]
    
    CalcDate --> GetSeason[‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•<br/>- ‡∏ä‡∏∑‡πà‡∏≠‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•<br/>- ‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™<br/>- ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•]
    
    GetSeason --> GetFestival[‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•<br/>- ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•<br/>- ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏π‡∏ì‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•]
    
    GetFestival --> CalcDemand[üî¢ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô]
    
    CalcDemand --> BaseDemand[‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô<br/>‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á]
    BaseDemand --> ApplySeason[‡∏Ñ‡∏π‡∏ì‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏≤‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•<br/>‡∏ï‡∏≤‡∏°‡πÄ‡∏î‡∏∑‡∏≠‡∏ô]
    ApplySeason --> ApplyFestival[‡∏Ñ‡∏π‡∏ì‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏≤‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•<br/>‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô]
    ApplyFestival --> ApplyRandom[‡∏Ñ‡∏π‡∏ì‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏≤‡∏™‡∏∏‡πà‡∏°<br/>0.7 - 1.3]
    ApplyRandom --> FinalDemand[‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢<br/>= ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô √ó ‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏• √ó ‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏• √ó ‡∏™‡∏∏‡πà‡∏°]
    
    FinalDemand --> CheckStock{‡∏™‡∏ï‡πá‡∏≠‡∏Å >= ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£?}
    
    CheckStock -->|‡πÉ‡∏ä‡πà| FullSales[‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô<br/>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢ = ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£<br/>‡∏Ç‡∏≤‡∏î‡∏™‡∏ï‡πá‡∏≠‡∏Å = 0<br/>‡∏¢‡∏≠‡∏î‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢ = 0]
    CheckStock -->|‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà| PartialSales[‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô<br/>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢ = ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠<br/>‡∏Ç‡∏≤‡∏î‡∏™‡∏ï‡πá‡∏≠‡∏Å = 1<br/>‡∏¢‡∏≠‡∏î‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢ = ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ - ‡∏Ç‡∏≤‡∏¢]
    
    FullSales --> UpdateStock[‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏™‡∏ï‡πá‡∏≠‡∏Å<br/>‡∏™‡∏ï‡πá‡∏≠‡∏Å -= ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢]
    PartialSales --> UpdateStock
    
    UpdateStock --> CalcRevenue[‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ<br/>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ = ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢ √ó ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢]
    
    CalcRevenue --> RecordDaily[‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô<br/>- ‡∏ß‡∏±‡∏ô, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà, ‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå<br/>- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£, ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢<br/>- ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô/‡∏´‡∏•‡∏±‡∏á<br/>- ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ, ‡∏¢‡∏≠‡∏î‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢<br/>- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•]
    
    RecordDaily --> LogEvents{‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Events}
    
    LogEvents --> CheckSeasonEvent{‡∏Ñ‡πà‡∏≤‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏• > 1?}
    CheckSeasonEvent -->|‡πÉ‡∏ä‡πà| LogSeason[‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Event ‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•<br/>- ‡∏ä‡∏∑‡πà‡∏≠‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•<br/>- ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏π‡∏ì<br/>- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô]
    CheckSeasonEvent -->|‡πÑ‡∏°‡πà| CheckFestEvent
    LogSeason --> CheckFestEvent
    
    CheckFestEvent{‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏π‡∏ì‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏• > 1?}
    CheckFestEvent -->|‡πÉ‡∏ä‡πà| LogFestival[‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Event ‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•<br/>- ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•<br/>- ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏π‡∏ì<br/>- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô]
    CheckFestEvent -->|‡πÑ‡∏°‡πà| CheckRestock
    LogFestival --> CheckRestock
    
    CheckRestock{üì¶ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πá‡∏≠‡∏Å}
    
    CheckRestock --> IsPeriodic{‡∏ñ‡∏∂‡∏á‡∏£‡∏≠‡∏ö‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πá‡∏≠‡∏Å?<br/>‡∏ß‡∏±‡∏ô % ‡∏ß‡∏±‡∏ô‡πÄ‡∏ï‡∏¥‡∏° == 0?}
    IsPeriodic -->|‡πÉ‡∏ä‡πà| PeriodicRestock[‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏£‡∏≠‡∏ö<br/>‡∏™‡∏ï‡πá‡∏≠‡∏Å += ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ï‡∏¥‡∏°‡∏ï‡∏≤‡∏°‡∏£‡∏≠‡∏ö<br/>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó = ‡∏ï‡∏≤‡∏°‡∏£‡∏≠‡∏ö]
    IsPeriodic -->|‡πÑ‡∏°‡πà| IsReorder{‡∏™‡∏ï‡πá‡∏≠‡∏Å <= ‡∏à‡∏∏‡∏î‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠<br/>‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô?}
    
    IsReorder -->|‡πÉ‡∏ä‡πà| RecordReorder[‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Event ‡∏à‡∏∏‡∏î‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠<br/>- ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏ï‡πá‡∏≠‡∏Å<br/>- ‡∏à‡∏∏‡∏î‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠<br/>- ‡∏ó‡∏£‡∏¥‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå = ‡πÄ‡∏õ‡∏¥‡∏î]
    IsReorder -->|‡πÑ‡∏°‡πà| RecordNoReorder[‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Event ‡∏à‡∏∏‡∏î‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠<br/>‡∏ó‡∏£‡∏¥‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå = ‡∏õ‡∏¥‡∏î]
    
    RecordReorder --> ImmediateRestock[‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ<br/>‡∏™‡∏ï‡πá‡∏≠‡∏Å += ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ï‡∏¥‡∏°‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô<br/>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó = ‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô]
    
    PeriodicRestock --> LogRestock[‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Event ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°<br/>- ‡∏ß‡∏±‡∏ô, ‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå<br/>- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô<br/>- ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô/‡∏´‡∏•‡∏±‡∏á<br/>- ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó]
    ImmediateRestock --> LogRestock
    RecordNoReorder --> NextDay
    
    LogRestock --> NextDay[‡πÑ‡∏õ‡∏ß‡∏±‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ<br/>‡∏ß‡∏±‡∏ô++]
    
    NextDay --> DayLoop
    
    DayLoop -->|‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô| ProcessResults[‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á]
    
    ProcessResults --> AggDaily[‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô<br/>‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå]
    AggDaily --> AggMonthly[‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô<br/>- ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏°<br/>- ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°<br/>- ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢<br/>- ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏™‡∏ï‡πá‡∏≠‡∏Å]
    
    AggMonthly --> CalcSummary[‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå<br/>- ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏°<br/>- ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°<br/>- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°<br/>- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πá‡∏≠‡∏Å<br/>- ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢<br/>- ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢, ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢]
    
    CalcSummary --> FindBestSelling[‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ<br/>‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≥‡∏•‡∏≠‡∏á<br/>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1 ‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå]
    
    FindBestSelling --> CleanData[‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö JSON<br/>‡πÅ‡∏õ‡∏•‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• numpy<br/>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏≤ NaN]
    
    CleanData --> BuildResponse[‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå<br/>- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô<br/>- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô<br/>- Event ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πá‡∏≠‡∏Å<br/>- Event ‡∏à‡∏∏‡∏î‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠<br/>- Event ‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•<br/>- Event ‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•<br/>- ‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå<br/>- ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ]
    
    BuildResponse --> ReturnJSON[‡∏™‡πà‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå JSON<br/>‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ]
    
    ReturnJSON --> End([‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô])
    
    style Start fill:#90EE90
    style End fill:#FFB6C1
    style CalcDemand fill:#FFE4B5
    style CheckStock fill:#87CEEB
    style CheckRestock fill:#DDA0DD
    style ProcessResults fill:#F0E68C